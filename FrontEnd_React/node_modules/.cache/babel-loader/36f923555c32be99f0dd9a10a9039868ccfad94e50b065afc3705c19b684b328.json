{"ast":null,"code":"var _jsxFileName = \"/home/alioune/Couvoiturage/FrontEnd_React/src/pages/SemaineView.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Link, useNavigate, UNSAFE_NavigationContext } from \"react-router-dom\";\nimport ToggleSwitch from \"./ToggleSwitch\";\nimport \"./SemaineView.css\";\nimport dayjs from \"dayjs\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction useWarnIfUnsavedChanges(when, message = \"Des modifications non sauvegardÃ©es seront perdues. Quitter ?\") {\n  _s();\n  const navigator = useContext(UNSAFE_NavigationContext).navigator;\n  useEffect(() => {\n    if (!when) return;\n    const push = navigator.push;\n    navigator.push = (...args) => {\n      if (!when) {\n        push(...args);\n        return;\n      }\n      const shouldProceed = window.confirm(message);\n      if (shouldProceed) {\n        navigator.push = push;\n        push(...args);\n      }\n    };\n    return () => {\n      navigator.push = push;\n    };\n  }, [when, navigator, message]);\n}\n_s(useWarnIfUnsavedChanges, \"fLVqO3p0FcvnEO4nGi6SNKkqK10=\");\nfunction SemaineView({\n  week,\n  userId,\n  onBack\n}) {\n  _s2();\n  const [showAllerInfo, setShowAllerInfo] = useState({});\n  const [showRetourInfo, setShowRetourInfo] = useState({});\n  const [disabledDays, setDisabledDays] = useState({});\n  const [roles, setRoles] = useState(week.days.reduce((acc, day) => {\n    const dayOfWeek = new Date(day).getDay();\n    if (dayOfWeek !== 0 && dayOfWeek !== 6) {\n      acc[day] = {\n        aller: \"passager\",\n        retour: \"passager\"\n      };\n    }\n    return acc;\n  }, {}));\n  const [daysHours, setDaysHours] = useState([]);\n  const [initialDaysHours, setInitialDaysHours] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchWeekSchedule = async () => {\n      try {\n        const response = await fetch(`http://localhost:5005/getCal/${userId}?indexWeek=${week.weekNumber}`);\n        const data = await response.json();\n        if (data.calendar && data.calendar.days.length > 0) {\n          setDaysHours(data.calendar.days.map(day => ({\n            date: day.date,\n            startHour: day.startHour,\n            endHour: day.endHour,\n            departAller: normaliserAdresse(day.departAller),\n            destinationAller: normaliserAdresse(day.destinationAller),\n            departRetour: normaliserAdresse(day.departRetour),\n            destinationRetour: normaliserAdresse(day.destinationRetour),\n            validatedAller: false,\n            validatedRetour: false\n          })));\n          setDisabledDays(data.calendar.days.reduce((acc, day) => {\n            acc[day.date] = !!day.disabled;\n            return acc;\n          }, {}));\n          setRoles(data.calendar.days.reduce((acc, day) => {\n            acc[day.date] = {\n              aller: day.roleAller || \"passager\",\n              retour: day.roleRetour || \"passager\"\n            };\n            return acc;\n          }, {}));\n          setInitialDaysHours(JSON.stringify(data.calendar.days));\n          setInitialRoles(JSON.stringify(data.calendar.days.reduce((acc, day) => {\n            acc[day.date] = {\n              aller: day.roleAller || \"passager\",\n              retour: day.roleRetour || \"passager\"\n            };\n            return acc;\n          }, {})));\n        } else {\n          setDaysHours(getDefaultWeekSchedule());\n          const defaults = getDefaultWeekSchedule();\n          setInitialDaysHours(JSON.stringify(defaults));\n          setInitialRoles(JSON.stringify(defaults.reduce((acc, day) => {\n            acc[day.date] = {\n              aller: day.roleAller,\n              retour: day.roleRetour\n            };\n            return acc;\n          }, {})));\n        }\n      } catch (error) {\n        console.error(\"Erreur lors de la rÃ©cupÃ©ration des donnÃ©es de la semaine :\", error);\n        setDaysHours(getDefaultWeekSchedule());\n      }\n      setInitialDaysHours(JSON.stringify(daysHours));\n      setInitialRoles(JSON.stringify(roles));\n    };\n    fetchWeekSchedule();\n  }, [week.weekNumber, userId]);\n  const handleToggleDisabledDay = date => {\n    setDisabledDays(prev => ({\n      ...prev,\n      [date]: !prev[date] // Inverse l'Ã©tat \"dÃ©sactivÃ©\" de ce jour\n    }));\n  };\n  const handleToggleWeekDisabled = () => {\n    const allDisabled = daysHours.every(day => disabledDays[day.date]);\n    const updated = {};\n    daysHours.forEach(day => {\n      updated[day.date] = !allDisabled;\n    });\n    setDisabledDays(updated);\n  };\n  const [initialRoles, setInitialRoles] = useState({});\n  const normaliserAdresse = adresse => {\n    if (!adresse) return \"Maison\";\n    if (adresse.includes(\"74 Rue Marcel Cachin, 93000 Bobigny\")) return \"Bobigny\";\n    if (adresse.includes(\"99 Av. Jean Baptiste ClÃ©ment, 93430 Villetaneuse\")) return \"Villetaneuse\";\n    if (adresse.includes(\"Place du 8 Mai 1945, 93200, Saint-Denis\")) return \"Saint-Denis\";\n    return \"Maison\";\n  };\n  const getDefaultWeekSchedule = () => {\n    return week.days.filter(date => {\n      const dayOfWeek = new Date(date).getDay();\n      return dayOfWeek !== 0 && dayOfWeek !== 6;\n    }).map(date => ({\n      date,\n      startHour: 9,\n      endHour: 17,\n      departAller: \"Maison\",\n      destinationAller: \"Villetaneuse\",\n      departRetour: \"Villetaneuse\",\n      destinationRetour: \"Maison\",\n      roleAller: \"passager\",\n      roleRetour: \"passager\",\n      disabled: false,\n      validatedAller: false,\n      validatedRetour: false\n    }));\n  };\n  const handleSaveAndPropagate = async () => {\n    await handleSaveWeek(); // Sauvegarde la semaine actuelle\n    await handlePropagateSchedule(); // Propage la semaine aux autres semaines vides\n  };\n  const handlePropagateSchedule = async () => {\n    try {\n      const response = await fetch(\"http://localhost:5005/propagateCalendar\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user_id: userId,\n          source_week: week.weekNumber\n        })\n      });\n      const result = await response.json();\n      if (response.ok) {\n        alert(\"Emploi du temps propagÃ© avec succÃ¨s !\");\n      } else {\n        alert(`Erreur : ${result.error}`);\n      }\n    } catch (error) {\n      console.error(\"Erreur lors de la propagation :\", error);\n      alert(\"Impossible de propager l'emploi du temps.\");\n    }\n  };\n  const handleSaveWeek = async () => {\n    try {\n      const response = await fetch(\"http://localhost:5005/saveCal\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user_id: userId,\n          calendar_changes: {\n            weekNumber: week.weekNumber,\n            days: daysHours.map(day => {\n              var _roles$day$date, _roles$day$date2;\n              return {\n                date: day.date,\n                startHour: day.startHour,\n                endHour: day.endHour,\n                departAller: day.departAller,\n                destinationAller: day.destinationAller,\n                roleAller: ((_roles$day$date = roles[day.date]) === null || _roles$day$date === void 0 ? void 0 : _roles$day$date.aller) || \"passager\",\n                departRetour: day.departRetour,\n                destinationRetour: day.destinationRetour,\n                roleRetour: ((_roles$day$date2 = roles[day.date]) === null || _roles$day$date2 === void 0 ? void 0 : _roles$day$date2.retour) || \"passager\",\n                validatedAller: day.validatedAller || false,\n                validatedRetour: day.validatedRetour || false,\n                disabled: disabledDays[day.date] || false\n              };\n            })\n          }\n        })\n      });\n      const result = await response.json();\n      if (response.ok) {\n        alert(\"Modifications enregistrÃ©es avec succÃ¨s !\");\n        setInitialDaysHours(JSON.stringify(daysHours));\n        setInitialRoles(JSON.stringify(roles));\n      } else {\n        alert(`Erreur : ${result.error}`);\n      }\n    } catch (error) {\n      console.error(\"Erreur lors de l'envoi des donnÃ©es :\", error);\n      alert(\"Impossible de sauvegarder les modifications.\");\n    }\n  };\n  const handleDepartAllerChange = (dayIndex, value) => {\n    setDaysHours(prev => {\n      const newDaysHours = [...prev];\n      newDaysHours[dayIndex].departAller = value;\n      return newDaysHours;\n    });\n  };\n  const handleDestinationAllerChange = (dayIndex, value) => {\n    setDaysHours(prev => {\n      const newDaysHours = [...prev];\n      newDaysHours[dayIndex].destinationAller = value;\n      return newDaysHours;\n    });\n  };\n  const handleDepartRetourChange = (dayIndex, value) => {\n    setDaysHours(prev => {\n      const newDaysHours = [...prev];\n      newDaysHours[dayIndex].departRetour = value;\n      return newDaysHours;\n    });\n  };\n  const handleDestinationRetourChange = (dayIndex, value) => {\n    setDaysHours(prev => {\n      const newDaysHours = [...prev];\n      newDaysHours[dayIndex].destinationRetour = value;\n      return newDaysHours;\n    });\n  };\n  const [dragging, setDragging] = useState(null);\n  useEffect(() => {\n    const handleGlobalMouseUp = () => setDragging(null);\n    document.addEventListener(\"mouseup\", handleGlobalMouseUp);\n    return () => document.removeEventListener(\"mouseup\", handleGlobalMouseUp);\n  }, []);\n  const handleMouseDownOnHandle = (dayIndex, handleType) => {\n    setDragging({\n      dayIndex,\n      handleType\n    });\n  };\n  const handleMouseEnterHour = (dayIndex, hour) => {\n    if (!dragging || dragging.dayIndex !== dayIndex) return;\n    setDaysHours(prev => {\n      const newDaysHours = [...prev];\n      let dayObj = {\n        ...newDaysHours[dayIndex]\n      };\n      if (dragging.handleType === \"top\") {\n        const newStart = Math.min(hour, dayObj.endHour - 1);\n        dayObj.startHour = Math.max(newStart, 0);\n      } else {\n        const newEnd = hour + 1;\n        dayObj.endHour = Math.min(Math.max(newEnd, dayObj.startHour + 1), 24);\n      }\n      newDaysHours[dayIndex] = dayObj;\n      return newDaysHours;\n    });\n  };\n  useEffect(() => {\n    const handleBeforeUnload = e => {\n      const hasChanges = JSON.stringify(daysHours) !== initialDaysHours || JSON.stringify(roles) !== initialRoles;\n      if (hasChanges) {\n        e.preventDefault();\n        e.returnValue = \"\"; // NÃ©cessaire pour certains navigateurs\n        return \"\";\n      }\n    };\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\n    return () => {\n      window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n    };\n  }, [daysHours, roles, initialDaysHours, initialRoles]);\n  useWarnIfUnsavedChanges(JSON.stringify(daysHours) !== initialDaysHours || JSON.stringify(roles) !== initialRoles);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"semaine-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onBack,\n      className: \"btn-back\",\n      children: \"\\u2190 Retour au mois\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Semaine \", week.weekNumber]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"20px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        gap: \"10px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"20px\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          gap: \"10px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-save\",\n          onClick: async () => {\n            await handleSaveWeek();\n            window.location.href = `/Calendrier?week=${week.weekNumber - 1}`;\n          },\n          children: \"\\u2190 Semaine pr\\xE9c\\xE9dente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-save\",\n          onClick: async () => {\n            await handleSaveWeek();\n            window.location.href = `/Calendrier?week=${week.weekNumber + 1}`;\n          },\n          children: \"Semaine suivante \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn-save\",\n      onClick: handleToggleWeekDisabled,\n      style: {\n        marginBottom: \"20px\"\n      },\n      children: \"\\uD83D\\uDD01 Activer / D\\xE9sactiver toute la semaine\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"days-columns\",\n      children: daysHours.map((dayObj, dayIndex) => {\n        var _roles$dayObj$date, _roles$dayObj$date2, _roles$dayObj$date3, _roles$dayObj$date4;\n        const {\n          date,\n          startHour,\n          endHour\n        } = dayObj;\n        const dayLabel = dayjs(date).format(\"dddd D MMMM\");\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `day-column ${disabledDays[date] ? \"disabled-day\" : \"\"}`,\n          style: {\n            position: \"relative\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: dayLabel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleToggleDisabledDay(date),\n            style: {\n              position: \"absolute\",\n              top: \"5px\",\n              right: \"5px\",\n              backgroundColor: \"red\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"50%\",\n              width: \"22px\",\n              height: \"22px\",\n              fontWeight: \"bold\",\n              cursor: \"pointer\",\n              lineHeight: \"20px\",\n              textAlign: \"center\",\n              padding: 0,\n              zIndex: 1\n            },\n            title: disabledDays[date] ? \"RÃ©activer\" : \"DÃ©sactiver\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 15\n          }, this), !disabledDays[date] && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"day-hours\",\n              children: Array.from({\n                length: 17\n              }, (_, i) => {\n                const hour = i + 6; // Heures de 8h Ã  23h\n                const isHighlighted = hour >= startHour && hour < endHour;\n                const isTopHandle = hour === startHour;\n                const isBottomHandle = hour === endHour - 1;\n                let blockClass = \"hour-block\";\n                if (isHighlighted) blockClass += \" highlight\";\n                if (isTopHandle || isBottomHandle) blockClass += \" handle\";\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: blockClass,\n                  onMouseDown: () => {\n                    if (isTopHandle) {\n                      handleMouseDownOnHandle(dayIndex, \"top\");\n                    } else if (isBottomHandle) {\n                      handleMouseDownOnHandle(dayIndex, \"bottom\");\n                    }\n                  },\n                  onMouseEnter: () => handleMouseEnterHour(dayIndex, hour),\n                  children: [hour, \"h\"]\n                }, hour, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"day-buttons\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"toggle-button\",\n                onClick: () => setShowAllerInfo(prev => ({\n                  ...prev,\n                  [date]: !prev[date]\n                })),\n                children: showAllerInfo[date] ? \"Masquer Aller\" : \"Infos Aller\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 17\n              }, this), showAllerInfo[date] && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"aller-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"depart-select\",\n                  children: \"D\\xE9part Aller\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"depart-select\",\n                  value: dayObj.departAller,\n                  onChange: e => handleDepartAllerChange(dayIndex, e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Maison\",\n                    children: \"Adresse Personnelle\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 496,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Villetaneuse\",\n                    children: \"Villetaneuse\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 497,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Saint-Denis\",\n                    children: \"Saint-Denis\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Bobigny\",\n                    children: \"Bobigny\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 489,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"retour-select\",\n                  children: \"Destination Aller\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"retour-select\",\n                  value: dayObj.destinationAller,\n                  onChange: e => handleDestinationAllerChange(dayIndex, e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Villetaneuse\",\n                    children: \"Villetaneuse\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 512,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Maison\",\n                    children: \"Adresse Personnelle\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 513,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Saint-Denis\",\n                    children: \"Saint-Denis\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 514,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Bobigny\",\n                    children: \"Bobigny\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 515,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 517,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"switch-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"R\\xF4le \\xE0 l'aller :\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 520,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ToggleSwitch, {\n                    checked: ((_roles$dayObj$date = roles[dayObj.date]) === null || _roles$dayObj$date === void 0 ? void 0 : _roles$dayObj$date.aller) === \"conducteur\",\n                    onChange: () => setRoles(prevRoles => {\n                      var _prevRoles$dayObj$dat;\n                      return {\n                        ...prevRoles,\n                        [dayObj.date]: {\n                          ...prevRoles[dayObj.date],\n                          aller: ((_prevRoles$dayObj$dat = prevRoles[dayObj.date]) === null || _prevRoles$dayObj$dat === void 0 ? void 0 : _prevRoles$dayObj$dat.aller) === \"conducteur\" ? \"passager\" : \"conducteur\"\n                        }\n                      };\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"switch-text\",\n                    children: ((_roles$dayObj$date2 = roles[dayObj.date]) === null || _roles$dayObj$date2 === void 0 ? void 0 : _roles$dayObj$date2.aller) === \"conducteur\" ? \"ğŸš— Conducteur\" : \"ğŸ§ Passager\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 536,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"toggle-button\",\n                onClick: () => setShowRetourInfo(prev => ({\n                  ...prev,\n                  [date]: !prev[date]\n                })),\n                children: showRetourInfo[date] ? \"Masquer Retour\" : \"Infos Retour\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 17\n              }, this), showRetourInfo[date] && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"retour-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"depart-select-retour\",\n                  children: \"D\\xE9part Retour\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 561,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"depart-select-retour\",\n                  value: dayObj.departRetour,\n                  onChange: e => handleDepartRetourChange(dayIndex, e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Maison\",\n                    children: \"Adresse Personnelle\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 570,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Villetaneuse\",\n                    children: \"Villetaneuse\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 571,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Saint-Denis\",\n                    children: \"Saint-Denis\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 572,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Bobigny\",\n                    children: \"Bobigny\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 573,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 563,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 575,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"retour-select-retour\",\n                  children: \"Destination Retour\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 577,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 580,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"retour-select-retour\",\n                  value: dayObj.destinationRetour,\n                  onChange: e => handleDestinationRetourChange(dayIndex, e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Villetaneuse\",\n                    children: \"Villetaneuse\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 588,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Maison\",\n                    children: \"Adresse Personnelle\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 589,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Saint-Denis\",\n                    children: \"Saint-Denis\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 590,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Bobigny\",\n                    children: \"Bobigny\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 591,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 581,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 593,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"switch-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"R\\xF4le au retour :\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 596,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ToggleSwitch, {\n                    checked: ((_roles$dayObj$date3 = roles[dayObj.date]) === null || _roles$dayObj$date3 === void 0 ? void 0 : _roles$dayObj$date3.retour) === \"conducteur\",\n                    onChange: () => setRoles(prevRoles => {\n                      var _prevRoles$dayObj$dat2;\n                      return {\n                        ...prevRoles,\n                        [dayObj.date]: {\n                          ...prevRoles[dayObj.date],\n                          retour: ((_prevRoles$dayObj$dat2 = prevRoles[dayObj.date]) === null || _prevRoles$dayObj$dat2 === void 0 ? void 0 : _prevRoles$dayObj$dat2.retour) === \"conducteur\" ? \"passager\" : \"conducteur\"\n                        }\n                      };\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 597,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"switch-text\",\n                    children: ((_roles$dayObj$date4 = roles[dayObj.date]) === null || _roles$dayObj$date4 === void 0 ? void 0 : _roles$dayObj$date4.retour) === \"conducteur\" ? \"ğŸš— Conducteur\" : \"ğŸ§ Passager\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 612,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 595,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true)]\n        }, date.toString(), true, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSaveWeek,\n      className: \"btn-save\",\n      children: \"\\uD83D\\uDCBE Sauvegarder\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSaveAndPropagate,\n      className: \"btn-save\",\n      style: {\n        marginTop: \"10px\"\n      },\n      children: \"\\uD83D\\uDD01    Propager la semaine aux autres vides\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 631,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 362,\n    columnNumber: 5\n  }, this);\n}\n_s2(SemaineView, \"q+xzvWs5KyWFSTndH102gxttUYs=\", false, function () {\n  return [useNavigate, useWarnIfUnsavedChanges];\n});\n_c = SemaineView;\nexport default SemaineView;\nvar _c;\n$RefreshReg$(_c, \"SemaineView\");","map":{"version":3,"names":["React","useContext","useState","useEffect","Link","useNavigate","UNSAFE_NavigationContext","ToggleSwitch","dayjs","jsxDEV","_jsxDEV","Fragment","_Fragment","useWarnIfUnsavedChanges","when","message","_s","navigator","push","args","shouldProceed","window","confirm","SemaineView","week","userId","onBack","_s2","showAllerInfo","setShowAllerInfo","showRetourInfo","setShowRetourInfo","disabledDays","setDisabledDays","roles","setRoles","days","reduce","acc","day","dayOfWeek","Date","getDay","aller","retour","daysHours","setDaysHours","initialDaysHours","setInitialDaysHours","navigate","fetchWeekSchedule","response","fetch","weekNumber","data","json","calendar","length","map","date","startHour","endHour","departAller","normaliserAdresse","destinationAller","departRetour","destinationRetour","validatedAller","validatedRetour","disabled","roleAller","roleRetour","JSON","stringify","setInitialRoles","getDefaultWeekSchedule","defaults","error","console","handleToggleDisabledDay","prev","handleToggleWeekDisabled","allDisabled","every","updated","forEach","initialRoles","adresse","includes","filter","handleSaveAndPropagate","handleSaveWeek","handlePropagateSchedule","method","headers","body","user_id","source_week","result","ok","alert","calendar_changes","_roles$day$date","_roles$day$date2","handleDepartAllerChange","dayIndex","value","newDaysHours","handleDestinationAllerChange","handleDepartRetourChange","handleDestinationRetourChange","dragging","setDragging","handleGlobalMouseUp","document","addEventListener","removeEventListener","handleMouseDownOnHandle","handleType","handleMouseEnterHour","hour","dayObj","newStart","Math","min","max","newEnd","handleBeforeUnload","e","hasChanges","preventDefault","returnValue","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","display","justifyContent","gap","location","href","marginBottom","_roles$dayObj$date","_roles$dayObj$date2","_roles$dayObj$date3","_roles$dayObj$date4","dayLabel","format","position","top","right","backgroundColor","color","border","borderRadius","width","height","fontWeight","cursor","lineHeight","textAlign","padding","zIndex","title","Array","from","_","i","isHighlighted","isTopHandle","isBottomHandle","blockClass","onMouseDown","onMouseEnter","htmlFor","id","onChange","target","checked","prevRoles","_prevRoles$dayObj$dat","_prevRoles$dayObj$dat2","toString","_c","$RefreshReg$"],"sources":["/home/alioune/Couvoiturage/FrontEnd_React/src/pages/SemaineView.jsx"],"sourcesContent":["import React, {useContext, useState, useEffect } from \"react\";\nimport { Link, useNavigate, UNSAFE_NavigationContext  } from \"react-router-dom\";\nimport ToggleSwitch from \"./ToggleSwitch\";\nimport \"./SemaineView.css\";\nimport dayjs from \"dayjs\";\n\nfunction useWarnIfUnsavedChanges(when, message = \"Des modifications non sauvegardÃ©es seront perdues. Quitter ?\") {\n  const navigator = useContext(UNSAFE_NavigationContext).navigator;\n\n  useEffect(() => {\n    if (!when) return;\n\n    const push = navigator.push;\n\n    navigator.push = (...args) => {\n      if (!when) {\n        push(...args);\n        return;\n      }\n\n      const shouldProceed = window.confirm(message);\n      if (shouldProceed) {\n        navigator.push = push;\n        push(...args);\n      }\n    };\n\n\n    return () => {\n      navigator.push = push;\n    };\n  }, [when, navigator, message]);\n}\n\nfunction SemaineView({ week, userId, onBack }) {\n  const [showAllerInfo, setShowAllerInfo] = useState({});\n  const [showRetourInfo, setShowRetourInfo] = useState({});\n  const [disabledDays, setDisabledDays] = useState({});\n\n  const [roles, setRoles] = useState(\n    week.days.reduce((acc, day) => {\n      const dayOfWeek = new Date(day).getDay();\n      if (dayOfWeek !== 0 && dayOfWeek !== 6) {\n        acc[day] = { aller: \"passager\", retour: \"passager\" };\n      }\n      return acc;\n    }, {})\n  );\n  const [daysHours, setDaysHours] = useState([]);\n  const [initialDaysHours, setInitialDaysHours] = useState([]);\n\n\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchWeekSchedule = async () => {\n      try {\n        const response = await fetch(\n          `http://localhost:5005/getCal/${userId}?indexWeek=${week.weekNumber}`\n        );\n        const data = await response.json();\n\n\n        if (data.calendar && data.calendar.days.length > 0) {\n          setDaysHours(\n            data.calendar.days.map((day) => ({\n              date: day.date,\n              startHour: day.startHour,\n              endHour: day.endHour,\n              departAller: normaliserAdresse(day.departAller),\n              destinationAller: normaliserAdresse(day.destinationAller),\n              departRetour: normaliserAdresse(day.departRetour),\n              destinationRetour: normaliserAdresse(day.destinationRetour),\n              validatedAller: false,\n              validatedRetour: false,\n\n\n            }))\n          );\n          setDisabledDays(\n            data.calendar.days.reduce((acc, day) => {\n              acc[day.date] = !!day.disabled;\n              return acc;\n            }, {})\n          );\n\n\n          setRoles(\n            data.calendar.days.reduce((acc, day) => {\n              acc[day.date] = {\n                aller: day.roleAller || \"passager\",\n                retour: day.roleRetour || \"passager\",\n              };\n              return acc;\n            }, {})\n          );\n          setInitialDaysHours(JSON.stringify(data.calendar.days));\n          setInitialRoles(\n            JSON.stringify(\n              data.calendar.days.reduce((acc, day) => {\n                acc[day.date] = {\n                  aller: day.roleAller || \"passager\",\n                  retour: day.roleRetour || \"passager\",\n                };\n                return acc;\n              }, {})\n            )\n          );\n        } else {\n          setDaysHours(getDefaultWeekSchedule());\n          const defaults = getDefaultWeekSchedule();\n          setInitialDaysHours(JSON.stringify(defaults));\n          setInitialRoles(\n            JSON.stringify(\n              defaults.reduce((acc, day) => {\n                acc[day.date] = {\n                  aller: day.roleAller,\n                  retour: day.roleRetour,\n                };\n                return acc;\n              }, {})\n            )\n          );\n\n        }\n      } catch (error) {\n        console.error(\n          \"Erreur lors de la rÃ©cupÃ©ration des donnÃ©es de la semaine :\",\n          error\n        );\n        setDaysHours(getDefaultWeekSchedule());\n      }\n      setInitialDaysHours(JSON.stringify(daysHours));\n        setInitialRoles(JSON.stringify(roles));\n    };\n    fetchWeekSchedule();\n\n  }, [week.weekNumber, userId]);\n  const handleToggleDisabledDay = (date) => {\n    setDisabledDays((prev) => ({\n      ...prev,\n      [date]: !prev[date], // Inverse l'Ã©tat \"dÃ©sactivÃ©\" de ce jour\n    }));\n\n  };\n  const handleToggleWeekDisabled = () => {\n    const allDisabled = daysHours.every(day => disabledDays[day.date]);\n    const updated = {};\n    daysHours.forEach(day => {\n      updated[day.date] = !allDisabled;\n    });\n    setDisabledDays(updated);\n  };\n\n\n  const [initialRoles, setInitialRoles] = useState({});\n\n\n\n  const normaliserAdresse = (adresse) => {\n    if (!adresse) return \"Maison\";\n    if (adresse.includes(\"74 Rue Marcel Cachin, 93000 Bobigny\"))\n      return \"Bobigny\";\n    if (adresse.includes(\"99 Av. Jean Baptiste ClÃ©ment, 93430 Villetaneuse\"))\n      return \"Villetaneuse\";\n    if (adresse.includes(\"Place du 8 Mai 1945, 93200, Saint-Denis\"))\n      return \"Saint-Denis\";\n    return \"Maison\";\n  };\n\n  const getDefaultWeekSchedule = () => {\n    return week.days\n      .filter((date) => {\n        const dayOfWeek = new Date(date).getDay();\n        return dayOfWeek !== 0 && dayOfWeek !== 6;\n      })\n      .map((date) => ({\n        date,\n        startHour: 9,\n        endHour: 17,\n        departAller: \"Maison\",\n        destinationAller: \"Villetaneuse\",\n        departRetour: \"Villetaneuse\",\n        destinationRetour: \"Maison\",\n        roleAller: \"passager\",\n        roleRetour: \"passager\",\n        disabled: false,\n        validatedAller: false,\n        validatedRetour: false,\n      }));\n  };\n\n  const handleSaveAndPropagate = async () => {\n    await handleSaveWeek();      // Sauvegarde la semaine actuelle\n    await handlePropagateSchedule(); // Propage la semaine aux autres semaines vides\n  };\n\n  const handlePropagateSchedule = async () => {\n    try {\n      const response = await fetch(\"http://localhost:5005/propagateCalendar\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          user_id: userId,\n          source_week: week.weekNumber,\n        }),\n      });\n\n      const result = await response.json();\n      if (response.ok) {\n        alert(\"Emploi du temps propagÃ© avec succÃ¨s !\");\n      } else {\n        alert(`Erreur : ${result.error}`);\n      }\n    } catch (error) {\n      console.error(\"Erreur lors de la propagation :\", error);\n      alert(\"Impossible de propager l'emploi du temps.\");\n    }\n  };\n\n\n\n  const handleSaveWeek = async () => {\n    try {\n      const response = await fetch(\"http://localhost:5005/saveCal\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          user_id: userId,\n          calendar_changes: {\n            weekNumber: week.weekNumber,\n            days: daysHours.map((day) => ({\n              date: day.date,\n              startHour: day.startHour,\n              endHour: day.endHour,\n              departAller: day.departAller,\n              destinationAller: day.destinationAller,\n              roleAller: roles[day.date]?.aller || \"passager\",\n              departRetour: day.departRetour,\n              destinationRetour: day.destinationRetour,\n              roleRetour: roles[day.date]?.retour || \"passager\",\n              validatedAller: day.validatedAller || false,\n              validatedRetour: day.validatedRetour || false,\n              disabled: disabledDays[day.date] || false,\n\n\n            })),\n          },\n        }),\n      });\n\n      const result = await response.json();\n      if (response.ok) {\n        alert(\"Modifications enregistrÃ©es avec succÃ¨s !\");\n        setInitialDaysHours(JSON.stringify(daysHours));\n        setInitialRoles(JSON.stringify(roles));\n      } else {\n        alert(`Erreur : ${result.error}`);\n      }\n    } catch (error) {\n      console.error(\"Erreur lors de l'envoi des donnÃ©es :\", error);\n      alert(\"Impossible de sauvegarder les modifications.\");\n    }\n  };\n\n  const handleDepartAllerChange = (dayIndex, value) => {\n    setDaysHours((prev) => {\n      const newDaysHours = [...prev];\n      newDaysHours[dayIndex].departAller = value;\n      return newDaysHours;\n    });\n  };\n\n  const handleDestinationAllerChange = (dayIndex, value) => {\n    setDaysHours((prev) => {\n      const newDaysHours = [...prev];\n      newDaysHours[dayIndex].destinationAller = value;\n      return newDaysHours;\n    });\n  };\n\n  const handleDepartRetourChange = (dayIndex, value) => {\n    setDaysHours((prev) => {\n      const newDaysHours = [...prev];\n      newDaysHours[dayIndex].departRetour = value;\n      return newDaysHours;\n    });\n  };\n\n  const handleDestinationRetourChange = (dayIndex, value) => {\n    setDaysHours((prev) => {\n      const newDaysHours = [...prev];\n      newDaysHours[dayIndex].destinationRetour = value;\n      return newDaysHours;\n    });\n  };\n\n  const [dragging, setDragging] = useState(null);\n\n  useEffect(() => {\n    const handleGlobalMouseUp = () => setDragging(null);\n    document.addEventListener(\"mouseup\", handleGlobalMouseUp);\n    return () => document.removeEventListener(\"mouseup\", handleGlobalMouseUp);\n  }, []);\n\n  const handleMouseDownOnHandle = (dayIndex, handleType) => {\n    setDragging({ dayIndex, handleType });\n  };\n\n  const handleMouseEnterHour = (dayIndex, hour) => {\n    if (!dragging || dragging.dayIndex !== dayIndex) return;\n\n    setDaysHours((prev) => {\n      const newDaysHours = [...prev];\n      let dayObj = { ...newDaysHours[dayIndex] };\n\n      if (dragging.handleType === \"top\") {\n        const newStart = Math.min(hour, dayObj.endHour - 1);\n        dayObj.startHour = Math.max(newStart, 0);\n      } else {\n        const newEnd = hour + 1;\n        dayObj.endHour = Math.min(Math.max(newEnd, dayObj.startHour + 1), 24);\n      }\n\n      newDaysHours[dayIndex] = dayObj;\n      return newDaysHours;\n    });\n  };\n\n  useEffect(() => {\n    const handleBeforeUnload = (e) => {\n      const hasChanges =\n        JSON.stringify(daysHours) !== initialDaysHours ||\n        JSON.stringify(roles) !== initialRoles;\n\n      if (hasChanges) {\n        e.preventDefault();\n        e.returnValue = \"\"; // NÃ©cessaire pour certains navigateurs\n        return \"\";\n      }\n    };\n\n\n\n\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\n    return () => {\n      window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n    };\n  }, [daysHours, roles, initialDaysHours, initialRoles]);\n\n  useWarnIfUnsavedChanges(\n    JSON.stringify(daysHours) !== initialDaysHours || JSON.stringify(roles) !== initialRoles\n  );\n\n  return (\n    <div className=\"semaine-container\">\n      <button onClick={onBack} className=\"btn-back\">\n        â† Retour au mois\n      </button>\n      <h2>Semaine {week.weekNumber}</h2>\n      <div style={{ marginTop: \"20px\", display: \"flex\", justifyContent: \"center\", gap: \"10px\" }}>\n      <div style={{ marginTop: \"20px\", display: \"flex\", justifyContent: \"center\", gap: \"10px\" }}>\n  <button\n    className=\"btn-save\"\n    onClick={async () => {\n      await handleSaveWeek();\n      window.location.href = `/Calendrier?week=${week.weekNumber - 1}`;\n    }}\n  >\n    â† Semaine prÃ©cÃ©dente\n  </button>\n  <button\n    className=\"btn-save\"\n    onClick={async () => {\n      await handleSaveWeek();\n      window.location.href = `/Calendrier?week=${week.weekNumber + 1}`;\n    }}\n  >\n    Semaine suivante â†’\n  </button>\n</div>\n\n</div>\n\n\n\n<button\n   className=\"btn-save\"\n   onClick={handleToggleWeekDisabled}\n   style={{ marginBottom: \"20px\" }}\n >\n   ğŸ” Activer / DÃ©sactiver toute la semaine\n </button>\n      <div className=\"days-columns\">\n        {daysHours.map((dayObj, dayIndex) => {\n          const { date, startHour, endHour } = dayObj;\n          const dayLabel = dayjs(date).format(\"dddd D MMMM\");\n\n          return (\n\n            <div\n              key={date.toString()}\n              className={`day-column ${disabledDays[date] ? \"disabled-day\" : \"\"}`}\n              style={{ position: \"relative\" }}\n            >\n              <h3>{dayLabel}</h3>\n              <button\n                onClick={() => handleToggleDisabledDay(date)}\n                style={{\n                  position: \"absolute\",\n                  top: \"5px\",\n                  right: \"5px\",\n                  backgroundColor: \"red\",\n                  color: \"white\",\n                  border: \"none\",\n                  borderRadius: \"50%\",\n                  width: \"22px\",\n                  height: \"22px\",\n                  fontWeight: \"bold\",\n                  cursor: \"pointer\",\n                  lineHeight: \"20px\",\n                  textAlign: \"center\",\n                  padding: 0,\n                  zIndex: 1\n                }}\n                title={disabledDays[date] ? \"RÃ©activer\" : \"DÃ©sactiver\"}\n              >\n                Ã—\n              </button>\n\n\n\n              {!disabledDays[date] && (\n              <>\n              <div className=\"day-hours\">\n                {Array.from({ length: 17 }, (_, i) => {\n                  const hour = i + 6; // Heures de 8h Ã  23h\n                  const isHighlighted = hour >= startHour && hour < endHour;\n                  const isTopHandle = hour === startHour;\n                  const isBottomHandle = hour === endHour - 1;\n\n                  let blockClass = \"hour-block\";\n                  if (isHighlighted) blockClass += \" highlight\";\n                  if (isTopHandle || isBottomHandle) blockClass += \" handle\";\n\n                  return (\n                    <div\n                      key={hour}\n                      className={blockClass}\n                      onMouseDown={() => {\n                        if (isTopHandle) {\n                          handleMouseDownOnHandle(dayIndex, \"top\");\n                        } else if (isBottomHandle) {\n                          handleMouseDownOnHandle(dayIndex, \"bottom\");\n                        }\n                      }}\n                      onMouseEnter={() => handleMouseEnterHour(dayIndex, hour)}\n                    >\n                      {hour}h\n                    </div>\n                  );\n                })}\n              </div>\n              <div className=\"day-buttons\">\n                <button\n                  className=\"toggle-button\"\n                  onClick={() =>\n                    setShowAllerInfo((prev) => ({\n                      ...prev,\n                      [date]: !prev[date],\n                    }))\n                  }\n                >\n                  {showAllerInfo[date]\n                    ? \"Masquer Aller\"\n                    : \"Infos Aller\"}\n                </button>\n\n                {showAllerInfo[date] && (\n                  <div className=\"aller-info\">\n                    <label htmlFor=\"depart-select\">DÃ©part Aller</label>\n                    <br />\n                    <select\n                      id=\"depart-select\"\n                      value={dayObj.departAller}\n                      onChange={(e) =>\n                        handleDepartAllerChange(dayIndex, e.target.value)\n                      }\n                    >\n                      <option value=\"Maison\">Adresse Personnelle</option>\n                      <option value=\"Villetaneuse\">Villetaneuse</option>\n                      <option value=\"Saint-Denis\">Saint-Denis</option>\n                      <option value=\"Bobigny\">Bobigny</option>\n                    </select>\n                    <br />\n\n                    <label htmlFor=\"retour-select\">Destination Aller</label>\n                    <br />\n                    <select\n                      id=\"retour-select\"\n                      value={dayObj.destinationAller}\n                      onChange={(e) =>\n                        handleDestinationAllerChange(dayIndex, e.target.value)\n                      }\n                    >\n                      <option value=\"Villetaneuse\">Villetaneuse</option>\n                      <option value=\"Maison\">Adresse Personnelle</option>\n                      <option value=\"Saint-Denis\">Saint-Denis</option>\n                      <option value=\"Bobigny\">Bobigny</option>\n                    </select>\n                    <br />\n\n                    <div className=\"switch-container\">\n                      <label>RÃ´le Ã  l'aller :</label>\n                      <ToggleSwitch\n                        checked={roles[dayObj.date]?.aller === \"conducteur\"}\n                        onChange={() =>\n                          setRoles((prevRoles) => ({\n                            ...prevRoles,\n                            [dayObj.date]: {\n                              ...prevRoles[dayObj.date],\n                              aller:\n                                prevRoles[dayObj.date]?.aller === \"conducteur\"\n                                  ? \"passager\"\n                                  : \"conducteur\",\n                            },\n                          }))\n                        }\n                      />\n                      <span className=\"switch-text\">\n                        {roles[dayObj.date]?.aller === \"conducteur\"\n                          ? \"ğŸš— Conducteur\"\n                          : \"ğŸ§ Passager\"}\n                      </span>\n                    </div>\n                  </div>\n                )}\n\n                <button\n                  className=\"toggle-button\"\n                  onClick={() =>\n                    setShowRetourInfo((prev) => ({\n                      ...prev,\n                      [date]: !prev[date],\n                    }))\n                  }\n                >\n                  {showRetourInfo[date]\n                    ? \"Masquer Retour\"\n                    : \"Infos Retour\"}\n                </button>\n\n                {showRetourInfo[date] && (\n                  <div className=\"retour-info\">\n                    <label htmlFor=\"depart-select-retour\">DÃ©part Retour</label>\n                    <br />\n                    <select\n                      id=\"depart-select-retour\"\n                      value={dayObj.departRetour}\n                      onChange={(e) =>\n                        handleDepartRetourChange(dayIndex, e.target.value)\n                      }\n                    >\n                      <option value=\"Maison\">Adresse Personnelle</option>\n                      <option value=\"Villetaneuse\">Villetaneuse</option>\n                      <option value=\"Saint-Denis\">Saint-Denis</option>\n                      <option value=\"Bobigny\">Bobigny</option>\n                    </select>\n                    <br />\n\n                    <label htmlFor=\"retour-select-retour\">\n                      Destination Retour\n                    </label>\n                    <br />\n                    <select\n                      id=\"retour-select-retour\"\n                      value={dayObj.destinationRetour}\n                      onChange={(e) =>\n                        handleDestinationRetourChange(dayIndex, e.target.value)\n                      }\n                    >\n                      <option value=\"Villetaneuse\">Villetaneuse</option>\n                      <option value=\"Maison\">Adresse Personnelle</option>\n                      <option value=\"Saint-Denis\">Saint-Denis</option>\n                      <option value=\"Bobigny\">Bobigny</option>\n                    </select>\n                    <br />\n\n                    <div className=\"switch-container\">\n                      <label>RÃ´le au retour :</label>\n                      <ToggleSwitch\n                        checked={roles[dayObj.date]?.retour === \"conducteur\"}\n                        onChange={() =>\n                          setRoles((prevRoles) => ({\n                            ...prevRoles,\n                            [dayObj.date]: {\n                              ...prevRoles[dayObj.date],\n                              retour:\n                                prevRoles[dayObj.date]?.retour === \"conducteur\"\n                                  ? \"passager\"\n                                  : \"conducteur\",\n                            },\n                          }))\n                        }\n                      />\n                      <span className=\"switch-text\">\n                        {roles[dayObj.date]?.retour === \"conducteur\"\n                          ? \"ğŸš— Conducteur\"\n                          : \"ğŸ§ Passager\"}\n                      </span>\n                    </div>\n                  </div>\n                )}\n              </div>\n              </>\n)}\n            </div>\n          );\n        })}\n      </div>\n\n      <button onClick={handleSaveWeek} className=\"btn-save\">\n        ğŸ’¾ Sauvegarder\n      </button>\n      <button onClick={handleSaveAndPropagate} className=\"btn-save\" style={{ marginTop: \"10px\" }}>\n  ğŸ”    Propager la semaine aux autres vides\n      </button>\n\n    </div>\n  );\n}\n\nexport default SemaineView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}